{"version":3,"sources":["CommentBox.jsx"],"names":[],"mappings":"AAAA;;;;;;AAOA;;;;;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;AACA,QAAQ,gBAAR;;IAGqB,U;;;AACjB,wBAAY,KAAZ,EAAkB;AAAA;;AAAA,kGACR,KADQ;;AAEd,cAAK,KAAL,GAAa,EAAC,MAAK,EAAN,EAAb;AACA,cAAK,WAAL;AACA;;;AAJc;AAOjB;;;;4CACmB,O,EAAQ;AACxB,oBAAQ,GAAR,CAAY,OAAZ;AACA,gBAAI,WAAW,KAAK,KAAL,CAAW,IAA1B;AAAA,gBACI,cAAc,SAAS,MAAT,CAAgB,OAAhB,CADlB;AAEA,iBAAK,QAAL,CAAc,EAAC,MAAK,WAAN,EAAd;AACH;;;sCAEU;AAAA;;AACT,oBAAQ,GAAR,CAAY,KAAK,KAAL,CAAW,GAAvB;AACA,6BAAE,IAAF,CAAO;AACH,qBAAI,KAAK,KAAL,CAAW,GADZ;AAEH,0BAAS,MAFN;AAGH,uBAAM,KAHH;AAIH,yBAAQ,2BAAW;AACf,2BAAK,QAAL,CAAc,EAAC,MAAK,QAAN,EAAd;AACH,iBANE;AAOH,uBAAM,eAAC,GAAD,EAAK,MAAL,EAAY,MAAZ,EAAoB;AACtB,4BAAQ,GAAR,CAAY,MAAZ;AACH;AATE,aAAP;AAWH;;;iCACQ;AACP,mBACE;AAAA;AAAA,kBAAK,WAAY,aAAjB;AACC;AAAA;AAAA;AAAA;AAAA,iBADD;AAEC;AAAA;AAAA,sBAAK,WAAY,YAAjB;AACA,2EAAa,MAAM,KAAK,KAAL,CAAW,IAA9B,GADA;AAEA,2EAAa,iBAAiB,KAAK,mBAAL,CAAyB,IAAzB,CAA8B,IAA9B,CAA9B;AAFA;AAFD,aADF;AASD;;;;EAxCqC,gBAAM,S;;kBAAzB,U","file":"CommentBox.js","sourcesContent":["/**\n * 聊天框最外边组件\n * @authors gaomysion (gaomysion@163.com)\n * @date    2016-08-20 18:13:18\n */\n\n\n\"use strict\";\nimport React from 'react';\nimport $ from 'jquery';\nimport CommentList from './CommentList.jsx';\nimport CommentForm from './CommentForm.jsx';\nrequire('./css/main.css');\n\n\nexport default class CommentBox extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {data:[]};\n        this.getComments();\n        // setInterval(() =>this.getComments(),5000);\n\n\n    }\n    handleCommentSubmit(comment){\n        console.log(comment);\n        let comments = this.state.data,\n            newComments = comments.concat(comment);\n        this.setState({data:newComments});\n    };\n\n  getComments(){\n      console.log(this.props.url);\n      $.ajax({\n          url:this.props.url,\n          dataType:'json',\n          cache:false,\n          success:comments =>{\n              this.setState({data:comments});\n          },\n          error:(xhr,status,error)=>{\n              console.log(error);\n          }\n      });\n  }\n  render() {\n    return (\n      <div className = \"ui comments\">\n      \t<h1>评论框</h1>\n      \t<div className = \"ui divider\">\n      \t<CommentList data={this.state.data}/>\n      \t<CommentForm onCommentSubmit={this.handleCommentSubmit.bind(this)}/>\n      \t</div>\n      </div>\n    );\n  }\n}\n"]}